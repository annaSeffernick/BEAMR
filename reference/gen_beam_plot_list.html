<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate BEAM Plot List — gen_beam_plot_list • BEAMR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate BEAM Plot List — gen_beam_plot_list"><meta name="description" content="Internal function: generate a list of clinical feature plots."><meta property="og:description" content="Internal function: generate a list of clinical feature plots."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BEAMR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/BEAMR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/annaSeffernick/BEAMR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate BEAM Plot List</h1>
      <small class="dont-index">Source: <a href="https://github.com/annaSeffernick/BEAMR/blob/main/R/gen_beam_plot_list.R" class="external-link"><code>R/gen_beam_plot_list.R</code></a></small>
      <div class="d-none name"><code>gen_beam_plot_list.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Internal function: generate a list of clinical feature plots.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gen_beam_plot_list</span><span class="op">(</span></span>
<span>  <span class="va">beam.result</span>,</span>
<span>  <span class="va">beam.specs</span>,</span>
<span>  <span class="va">beam.feat.pvals</span>,</span>
<span>  number.pairs <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">set.id</span>,</span>
<span>  feat.id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  title.size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  pair.order <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  endpt.order <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-beam-result">beam.result<a class="anchor" aria-label="anchor" href="#arg-beam-result"></a></dt>
<dd><p>Result of prep.beam.data</p></dd>


<dt id="arg-beam-specs">beam.specs<a class="anchor" aria-label="anchor" href="#arg-beam-specs"></a></dt>
<dd><p>A data.frame of strings with columns name, mtx, mdl, plot</p></dd>


<dt id="arg-beam-feat-pvals">beam.feat.pvals<a class="anchor" aria-label="anchor" href="#arg-beam-feat-pvals"></a></dt>
<dd><p>List of feature-level p-values from compute_feature_pvalues</p></dd>


<dt id="arg-number-pairs">number.pairs<a class="anchor" aria-label="anchor" href="#arg-number-pairs"></a></dt>
<dd><p>Numeric; number of features to display in clinical plots, ordered by significance</p></dd>


<dt id="arg-set-id">set.id<a class="anchor" aria-label="anchor" href="#arg-set-id"></a></dt>
<dd><p>A character with set name; must be in beam.result$beam.data$set.data$set.id</p></dd>


<dt id="arg-feat-id">feat.id<a class="anchor" aria-label="anchor" href="#arg-feat-id"></a></dt>
<dd><p>Default NULL; a character with feature name; must be in beam.result$beam.data$set.data$row.id</p></dd>


<dt id="arg-title-size">title.size<a class="anchor" aria-label="anchor" href="#arg-title-size"></a></dt>
<dd><p>A numeric. Specify the size of individual plot titles. Default is 10.</p></dd>


<dt id="arg-pair-order">pair.order<a class="anchor" aria-label="anchor" href="#arg-pair-order"></a></dt>
<dd><p>One of c("both", "omic", "endpoint"). Default is "both." Specify how to choose feature-endpoint plots to include. If "both", find the best (based on q, p, effect size) feature-omic pair for each type of omic and each endpoint separately. If "omic", within each omic, find the best feature-endpoint pair and then plot this feature with all endpoints. If "endpoint", need to specify endpt.order as the name of chosen endpoint. Then, within each omic, find the feature with best association with the selected endpoint, and plot this feature for all endpoints.</p></dd>


<dt id="arg-endpt-order">endpt.order<a class="anchor" aria-label="anchor" href="#arg-endpt-order"></a></dt>
<dd><p>Default NULL. If pair.order="endpoint", specify character with endpoint name (from beam.specs$name, after the period).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of plots for the specified set and/or feature.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">test.beam.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="prep_beam_data.html">prep_beam_data</a></span><span class="op">(</span>main.data<span class="op">=</span><span class="va">clinf</span>, mtx.data<span class="op">=</span><span class="va">omicdat</span>,</span></span>
<span class="r-in"><span>                                 mtx.anns<span class="op">=</span><span class="va">omicann</span>, set.data<span class="op">=</span><span class="va">setdat</span>,</span></span>
<span class="r-in"><span>                                 set.anns<span class="op">=</span><span class="cn">NULL</span>, n.boot<span class="op">=</span><span class="fl">10</span>, seed<span class="op">=</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">specs</span> <span class="op">&lt;-</span> <span class="fu"><a href="prep_beam_specs.html">prep_beam_specs</a></span><span class="op">(</span>beam.data<span class="op">=</span><span class="va">test.beam.data</span>, endpts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MRD29"</span>, <span class="st">"EFS"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         firth<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test.beam.stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_beam_stats.html">compute_beam_stats</a></span><span class="op">(</span>beam.data<span class="op">=</span><span class="va">test.beam.data</span>,</span></span>
<span class="r-in"><span>                                      beam.specs<span class="op">=</span><span class="va">specs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test.feat.pvals</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_feature_pvalues.html">compute_feature_pvalues</a></span><span class="op">(</span>beam.stats<span class="op">=</span><span class="va">test.beam.stats</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plot.specs</span> <span class="op">&lt;-</span> <span class="fu"><a href="prep_beam_plot.html">prep_beam_plot</a></span><span class="op">(</span>beam.data<span class="op">=</span><span class="va">test.beam.data</span>, beam.specs<span class="op">=</span><span class="va">specs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plot.list</span> <span class="op">&lt;-</span> <span class="fu">gen_beam_plot_list</span><span class="op">(</span>beam.result<span class="op">=</span><span class="va">test.beam.stats</span>,</span></span>
<span class="r-in"><span>                                beam.specs<span class="op">=</span><span class="va">plot.specs</span>,</span></span>
<span class="r-in"><span>                                beam.feat.pvals<span class="op">=</span><span class="va">test.feat.pvals</span>,</span></span>
<span class="r-in"><span>                                number.pairs<span class="op">=</span><span class="fl">1</span>, set.id<span class="op">=</span><span class="st">"ENSG00000099810"</span>,</span></span>
<span class="r-in"><span>                                feat.id<span class="op">=</span><span class="cn">NULL</span>, title.size<span class="op">=</span><span class="fl">11</span>,</span></span>
<span class="r-in"><span>                                pair.order<span class="op">=</span><span class="st">"omic"</span>, endpt.order<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">beam_stats</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test.feat.pvals</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_feature_pvalues.html">compute_feature_pvalues</a></span><span class="op">(</span>beam.stats<span class="op">=</span><span class="va">beam_stats</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing feature p-values for stat matrix 1 of 6: Tue Jul  9 18:29:10 2024</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   This matrix has 20 features.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing feature p-values for stat matrix 2 of 6: Tue Jul  9 18:29:10 2024</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   This matrix has 20 features.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing feature p-values for stat matrix 3 of 6: Tue Jul  9 18:29:10 2024</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   This matrix has 20 features.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing feature p-values for stat matrix 4 of 6: Tue Jul  9 18:29:10 2024</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   This matrix has 20 features.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing feature p-values for stat matrix 5 of 6: Tue Jul  9 18:29:10 2024</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   This matrix has 20 features.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Computing feature p-values for stat matrix 6 of 6: Tue Jul  9 18:29:10 2024</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   This matrix has 20 features.</span>
<span class="r-in"><span><span class="va">plot.specs</span> <span class="op">&lt;-</span> <span class="fu"><a href="prep_beam_plot.html">prep_beam_plot</a></span><span class="op">(</span>beam.data<span class="op">=</span><span class="va">beam_stats</span><span class="op">$</span><span class="va">beam.data</span>,</span></span>
<span class="r-in"><span>                             beam.specs<span class="op">=</span><span class="va">beam_stats</span><span class="op">$</span><span class="va">beam.specs</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">plot.list</span> <span class="op">&lt;-</span> <span class="fu">gen_beam_plot_list</span><span class="op">(</span>beam.result<span class="op">=</span><span class="va">beam_stats</span>, beam.specs<span class="op">=</span><span class="va">plot.specs</span>,</span></span>
<span class="r-in"><span>                                beam.feat.pvals<span class="op">=</span><span class="va">test.feat.pvals</span>,</span></span>
<span class="r-in"><span>                                number.pairs<span class="op">=</span><span class="fl">1</span>, set.id<span class="op">=</span><span class="st">"ENSG00000099810"</span>,</span></span>
<span class="r-in"><span>                                feat.id<span class="op">=</span><span class="cn">NULL</span>, title.size<span class="op">=</span><span class="fl">11</span>,</span></span>
<span class="r-in"><span>                                pair.order<span class="op">=</span><span class="st">"omic"</span>, endpt.order<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anna Eames Seffernick, Stanley Pounds, Xueyuan Cao.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

